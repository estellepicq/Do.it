webpackJsonp([0],{0:function(t,e){},"5eBN":function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("7+uW"),i=o("8+8L"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=o("VU/8")({name:"App"},n,!1,function(t){o("bbmv")},null,null).exports,d=o("/ocq"),l=io.connect("http://localhost:4000/"),r={name:"todolist",data:function(){return{todolistId:this.$route.params.id,newTodo:{},todos:[]}},methods:{addTodo:function(t){""!==this.newTodo.item&&void 0!==this.newTodo.item&&(this.$http.post("/todos/add",{newtodo:this.newTodo.item,todolistId:this.todolistId},{headers:{"Content-Type":"application/json"}}).then(function(t){var e={item:t.data.data.item,done:!1,_id:t.data.data.id,todolistId:this.todolistId};l.emit("addTodoServer",e)}).catch(function(t){console.log(t)}),this.newTodo.item=""),t.preventDefault()},updateTodo:function(t){this.$http.put("/todos/update/"+t._id).then(function(e){l.emit("updateTodoServer",t)}).catch(function(t){console.log(t)})},deleteTodo:function(t){this.$http.delete("/todos/delete/"+t._id).then(function(e){l.emit("deleteTodoServer",t)}).catch(function(t){console.log(t)})}},created:function(){this.$http.get("/todos/all/"+this.todolistId).then(function(t){t.data.success&&(this.todos=t.data.data)})},mounted:function(){l.on("addTodoClient",function(t){t.todolistId===this.todolistId&&this.todos.push(t)}.bind(this)),l.on("deleteTodoClient",function(t){for(var e=0;e<this.todos.length;e++)this.todos[e]._id===t._id&&this.todos.splice(e,1)}.bind(this)),l.on("updateTodoClient",function(t){for(var e=0;e<this.todos.length;e++)this.todos[e]._id===t._id&&(this.todos[e].done=t.done)}.bind(this))}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container todolist"},[o("h4",[t._v("To-do list")]),t._v(" "),o("form",{on:{submit:t.addTodo}},[o("div",{staticClass:"input-field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo.item,expression:"newTodo.item"}],attrs:{id:"newtodo",type:"text"},domProps:{value:t.newTodo.item},on:{input:function(e){e.target.composing||t.$set(t.newTodo,"item",e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"newtodo"}},[t._v("To do")])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"left-align col s6"},[o("router-link",{staticClass:"waves-effect waves-light btn grey lighten-1",attrs:{to:"/"}},[t._v("Go home")])],1),t._v(" "),t._m(0)])]),t._v(" "),o("br"),t._v(" "),t.todos.length>0?o("ul",{staticClass:"collection left-align"},t._l(t.todos,function(e){return o("li",{staticClass:"collection-item"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.done,expression:"todo.done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.done)?t._i(e.done,null)>-1:e.done},on:{change:[function(o){var s=e.done,i=o.target,n=!!i.checked;if(Array.isArray(s)){var a=t._i(s,null);i.checked?a<0&&t.$set(e,"done",s.concat([null])):a>-1&&t.$set(e,"done",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(e,"done",n)},function(o){t.updateTodo(e)}]}}),t._v(" "),o("span",{class:{done:e.done}},[t._v("\n          "+t._s(e.item)+"\n        ")]),t._v(" "),o("a",{staticClass:"secondary-content",attrs:{href:"#!"},on:{click:function(o){t.deleteTodo(e)}}},[o("i",{staticClass:"material-icons"},[t._v("delete")])])])])})):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-align col s6"},[e("button",{staticClass:"btn waves-effect waves-light",attrs:{type:"submit"}},[this._v("Add\n          "),e("i",{staticClass:"material-icons right"},[this._v("add")])])])}]};var u=o("VU/8")(r,c,!1,function(t){o("eDuc")},"data-v-7dc30713",null).exports,v={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container createtodolist"},[o("h4",[t._v("Create a todolist")]),t._v(" "),o("br"),o("br"),t._v(" "),o("div",{staticClass:"input-field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodolistId,expression:"newTodolistId"}],staticClass:"validate",class:{invalid:!t.valid},attrs:{id:"newTodolistId",type:"text"},domProps:{value:t.newTodolistId},on:{keyup:function(e){t.checkExistingIds()},input:function(e){e.target.composing||(t.newTodolistId=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"newTodolistId"}},[t._v("Enter a code for your to-do list")]),t._v(" "),o("span",{staticClass:"helper-text",attrs:{"data-error":t.helperMessage}})]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"left-align col s6"},[o("button",{staticClass:"waves-effect waves-light btn grey lighten-1",on:{click:function(e){t.$router.go(-1)}}},[t._v("Go back")])]),t._v(" "),t.newTodolistId&&t.valid?o("div",{staticClass:"right-align col s6"},[o("router-link",{staticClass:"waves-effect waves-light btn",attrs:{tag:"button",to:{name:"Todolist",params:{id:t.newTodolistId}}}},[t._v("Create todolist")])],1):t._e()])])},staticRenderFns:[]};var h=o("VU/8")({name:"createtodolist",data:function(){return{newTodolistId:"",helperMessage:"",valid:!0}},methods:{checkExistingIds:function(){this.newTodolistId.length<4?(this.helperMessage="Not long enough (4 caracters minimum)",this.valid=!1):this.$http.get("/todos/todolistids").then(function(t){t.data.data.includes(this.newTodolistId)?(this.helperMessage="Already existing code",this.valid=!1):(this.helperMessage="",this.valid=!0)})}}},v,!1,function(t){o("5eBN")},"data-v-2ad07c14",null).exports,p={name:"welcome",data:function(){return{todolistId:void 0,helperMessage:"",existingId:!0}},methods:{checkFreeId:function(){this.$http.get("/todos/todolistids").then(function(t){t.data.data.includes(this.todolistId)?(this.helperMessage="",this.existingId=!0):(this.helperMessage="This code does not exist",this.existingId=!1)})}}},f={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container welcome"},[o("h4",[t._v("Welcome on Do.it")]),t._v(" "),o("br"),o("br"),t._v(" "),o("router-link",{staticClass:"waves-effect waves-light btn",attrs:{to:"/create-todolist",tag:"button"}},[t._v("Create a todolist")]),t._v(" "),o("br"),o("br"),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"input-field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todolistId,expression:"todolistId"}],staticClass:"validate",class:{invalid:!t.existingId},attrs:{id:"todolistId",type:"text"},domProps:{value:t.todolistId},on:{keyup:function(e){t.checkFreeId()},input:function(e){e.target.composing||(t.todolistId=e.target.value)}}}),t._v(" "),o("label",{attrs:{for:"todolistId"}},[t._v("Enter your code here")]),t._v(" "),o("span",{staticClass:"helper-text",attrs:{"data-error":t.helperMessage}})]),t._v(" "),t.todolistId&&t.existingId?o("div",[o("router-link",{staticClass:"waves-effect waves-light btn",attrs:{tag:"button",to:{name:"Todolist",params:{id:t.todolistId}}}},[t._v("Connect to todolist")])],1):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h6",[this._v("OR")])])}]};var m=o("VU/8")(p,f,!1,function(t){o("kGHe")},"data-v-5fdf98dc",null).exports;s.a.use(d.a);var _=new d.a({mode:"history",routes:[{path:"/",name:"Welcome",component:m},{path:"/create-todolist",name:"Createtodolist",component:h},{path:"/todolist/:id",name:"Todolist",component:u},{path:"*",redirect:"/"}]});s.a.config.productionTip=!1,s.a.use(i.a),new s.a({el:"#app",router:_,components:{App:a},template:"<App/>"})},bbmv:function(t,e){},eDuc:function(t,e){},kGHe:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e78dadb720e74092d622.js.map